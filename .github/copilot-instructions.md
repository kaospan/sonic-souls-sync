# Copilot onboarding for cladesync

## What this repo is
- Vite + React 18 + TypeScript + Tailwind + shadcn/ui music-social web app. Mock social backend (in-memory) with seed data for demo feeds/investor dashboard. Deterministic seeding via `scripts/seed.js`.
- Project name is **cladesync** (all prior references to sonic-souls-sync should stay renamed).

## Stack & layout (high-signal paths)
- Frontend entry: `src/main.tsx`, app shell `src/App.tsx`, routing via `react-router-dom`.
- Shared UI components: `src/components/ui/*` (shadcn-generated). Header/nav: `src/components/Header.tsx`. Feed cards, discovery, etc. in `src/components/*`.
- Pages: `src/pages/Index.tsx`, `Discover.tsx`, `Profile.tsx`, `Messages.tsx`, `Settings.tsx`, `NotFound.tsx`, `DemoFeed.tsx`, `InvestorDashboard.tsx` (metrics), plus any added marketing pages.
- Mock server & utilities: `src/lib/mockServer.ts`, `src/lib/utils.ts`; hooks in `src/hooks/*`.
- Seed data: `scripts/seed.js` (writes `scripts/seeds.json` and `scripts/seeds_sample_preview.json`). Deterministic (seed=42). Avoid changing content unless explicitly required.
- Config: `vite.config.ts`, `tailwind.config.ts`, `tsconfig*.json`, `eslint.config.js`, `postcss.config.js`.
- CI: `.github/workflows/ci.yml` runs checkout → Node 18 → `npm ci` → lint → build → seed smoke test; deploys `dist/` to GitHub Pages on `main`.

## Build, run, lint (validated commands)
- **Install**: `npm ci` (preferred in CI) or `npm install` (local). Node 18 is used in CI; match that locally.
- **Dev server**: `npm run dev` (Vite).
- **Build**: `npm run build`.
- **Preview**: `npm run preview` (after build).
- **Lint**: `npm run lint`. Note: shadcn UI files may emit `react-refresh/only-export-components` warnings if shared helpers live with components; some files include inline `/* eslint-disable react-refresh/only-export-components */` to keep lint clean. Treat remaining warnings as non-blocking unless you add new ones.
- **Seed smoke test**: `node scripts/seed.js --count=10` (mirrors CI). Full seed: `npm run seed` or `npm run seed:400`.

## Notes on pitfalls
- Keep imports unbroken; Vite uses TS path aliases from `tsconfig.json` (e.g., `@/components/...`).
- Avoid modifying seed JSON outputs unless required; they are generated by `scripts/seed.js`.
- Tailwind config is ESM; uses `tailwindcss-animate` via import, not `require`, to satisfy lint.
- If adding non-component exports to shadcn files, either move helpers out or explicitly disable `react-refresh/only-export-components` at top to avoid warnings.

## CI expectations
- Passing `npm run lint`, `npm run build`, and seed smoke test (`node scripts/seed.js --count=10`). No deploy step on branches other than `main`.

## How to approach changes quickly
- For UI/routing changes, start at `src/App.tsx` (routes) and corresponding page under `src/pages/`.
- Reusable UI primitives live in `src/components/ui/`; prefer composing them instead of ad-hoc styling.
- Metrics/“investor-friendly” content is in `InvestorDashboard` and README.

## Trust these instructions
Follow the commands above before searching elsewhere. Only search the repo if these notes seem outdated or incomplete.
